{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"socket.io-client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":46,"index":80}}],"key":"LVgCyxgUdze/lYG0kA6DdCAztfM=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":81},"end":{"line":3,"column":31,"index":112}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":113},"end":{"line":4,"column":39,"index":152}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useLiveStore\", {\n    enumerable: true,\n    get: function () {\n      return useLiveStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _socketIoClient = require(_dependencyMap[1], \"socket.io-client\");\n  var io = _interopDefault(_socketIoClient);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var _expoConstants = require(_dependencyMap[3], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  const API_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || process.env.EXPO_PUBLIC_BACKEND_URL;\n  const useLiveStore = (0, _zustand.create)((set, get) => ({\n    socket: null,\n    connected: false,\n    activeOrders: [],\n    pendingKOTs: [],\n    occupiedTables: [],\n    todayStats: {\n      totalOrders: 0,\n      revenue: 0,\n      averageOrder: 0\n    },\n    connect: () => {\n      const socket = (0, io.default)(API_URL, {\n        transports: ['websocket', 'polling']\n      });\n      socket.on('connect', () => {\n        console.log('Socket connected');\n        set({\n          connected: true\n        });\n      });\n      socket.on('disconnect', () => {\n        console.log('Socket disconnected');\n        set({\n          connected: false\n        });\n      });\n      socket.on('order_updated', order => {\n        console.log('Order updated:', order);\n        get().fetchLiveDashboard();\n      });\n      socket.on('kot_updated', kot => {\n        console.log('KOT updated:', kot);\n        get().fetchLiveDashboard();\n      });\n      socket.on('table_updated', table => {\n        console.log('Table updated:', table);\n        get().fetchLiveDashboard();\n      });\n      set({\n        socket\n      });\n    },\n    disconnect: () => {\n      const {\n        socket\n      } = get();\n      if (socket) {\n        socket.disconnect();\n        set({\n          socket: null,\n          connected: false\n        });\n      }\n    },\n    subscribeToOrders: () => {\n      const {\n        socket\n      } = get();\n      if (socket) {\n        socket.emit('subscribe_orders');\n      }\n    },\n    subscribeToKitchen: () => {\n      const {\n        socket\n      } = get();\n      if (socket) {\n        socket.emit('subscribe_kitchen');\n      }\n    },\n    fetchLiveDashboard: async () => {\n      try {\n        const response = await api.default.get('/dashboard/live');\n        set({\n          activeOrders: response.data.activeOrders,\n          pendingKOTs: response.data.pendingKOTs,\n          occupiedTables: response.data.occupiedTables,\n          todayStats: response.data.todayStats\n        });\n      } catch (error) {\n        console.error('Fetch live dashboard error:', error);\n      }\n    }\n  }));\n});","lineCount":111,"map":[[12,2,26,0,"Object"],[12,8,26,0],[12,9,26,0,"defineProperty"],[12,23,26,0],[12,24,26,0,"exports"],[12,31,26,0],[13,4,26,0,"enumerable"],[13,14,26,0],[14,4,26,0,"get"],[14,7,26,0],[14,18,26,0,"get"],[14,19,26,0],[15,6,26,0],[15,13,26,0,"useLiveStore"],[15,25,26,0],[16,4,26,0],[17,2,26,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_socketIoClient"],[19,21,2,0],[19,24,2,0,"require"],[19,31,2,0],[19,32,2,0,"_dependencyMap"],[19,46,2,0],[20,2,2,0],[20,6,2,0,"io"],[20,8,2,0],[20,11,2,0,"_interopDefault"],[20,26,2,0],[20,27,2,0,"_socketIoClient"],[20,42,2,0],[21,2,3,0],[21,6,3,0,"_utilsApi"],[21,15,3,0],[21,18,3,0,"require"],[21,25,3,0],[21,26,3,0,"_dependencyMap"],[21,40,3,0],[22,2,3,0],[22,6,3,0,"api"],[22,9,3,0],[22,12,3,0,"_interopDefault"],[22,27,3,0],[22,28,3,0,"_utilsApi"],[22,37,3,0],[23,2,4,0],[23,6,4,0,"_expoConstants"],[23,20,4,0],[23,23,4,0,"require"],[23,30,4,0],[23,31,4,0,"_dependencyMap"],[23,45,4,0],[24,2,4,0],[24,6,4,0,"Constants"],[24,15,4,0],[24,18,4,0,"_interopDefault"],[24,33,4,0],[24,34,4,0,"_expoConstants"],[24,48,4,0],[25,2,6,0],[25,8,6,6,"API_URL"],[25,15,6,13],[25,18,6,16,"Constants"],[25,27,6,25],[25,28,6,25,"default"],[25,35,6,25],[25,36,6,26,"expoConfig"],[25,46,6,36],[25,48,6,38,"extra"],[25,53,6,43],[25,55,6,45,"EXPO_PUBLIC_BACKEND_URL"],[25,78,6,68],[25,82,6,72,"process"],[25,89,6,79],[25,90,6,80,"env"],[25,93,6,83],[25,94,6,84,"EXPO_PUBLIC_BACKEND_URL"],[25,117,6,107],[26,2,26,7],[26,8,26,13,"useLiveStore"],[26,20,26,25],[26,23,26,28],[26,27,26,28,"create"],[26,35,26,34],[26,36,26,34,"create"],[26,42,26,34],[26,44,26,46],[26,45,26,47,"set"],[26,48,26,50],[26,50,26,52,"get"],[26,53,26,55],[26,59,26,61],[27,4,27,2,"socket"],[27,10,27,8],[27,12,27,10],[27,16,27,14],[28,4,28,2,"connected"],[28,13,28,11],[28,15,28,13],[28,20,28,18],[29,4,29,2,"activeOrders"],[29,16,29,14],[29,18,29,16],[29,20,29,18],[30,4,30,2,"pendingKOTs"],[30,15,30,13],[30,17,30,15],[30,19,30,17],[31,4,31,2,"occupiedTables"],[31,18,31,16],[31,20,31,18],[31,22,31,20],[32,4,32,2,"todayStats"],[32,14,32,12],[32,16,32,14],[33,6,33,4,"totalOrders"],[33,17,33,15],[33,19,33,17],[33,20,33,18],[34,6,34,4,"revenue"],[34,13,34,11],[34,15,34,13],[34,16,34,14],[35,6,35,4,"averageOrder"],[35,18,35,16],[35,20,35,18],[36,4,36,2],[36,5,36,3],[37,4,38,2,"connect"],[37,11,38,9],[37,13,38,11,"connect"],[37,14,38,11],[37,19,38,17],[38,6,39,4],[38,12,39,10,"socket"],[38,18,39,16],[38,21,39,19],[38,25,39,19,"io"],[38,27,39,21],[38,28,39,21,"default"],[38,35,39,21],[38,37,39,22,"API_URL"],[38,44,39,29],[38,46,39,32],[39,8,40,6,"transports"],[39,18,40,16],[39,20,40,18],[39,21,40,19],[39,32,40,30],[39,34,40,32],[39,43,40,41],[40,6,41,4],[40,7,41,5],[40,8,41,6],[41,6,43,4,"socket"],[41,12,43,10],[41,13,43,11,"on"],[41,15,43,13],[41,16,43,14],[41,25,43,23],[41,27,43,25],[41,33,43,31],[42,8,44,6,"console"],[42,15,44,13],[42,16,44,14,"log"],[42,19,44,17],[42,20,44,18],[42,38,44,36],[42,39,44,37],[43,8,45,6,"set"],[43,11,45,9],[43,12,45,10],[44,10,45,12,"connected"],[44,19,45,21],[44,21,45,23],[45,8,45,28],[45,9,45,29],[45,10,45,30],[46,6,46,4],[46,7,46,5],[46,8,46,6],[47,6,48,4,"socket"],[47,12,48,10],[47,13,48,11,"on"],[47,15,48,13],[47,16,48,14],[47,28,48,26],[47,30,48,28],[47,36,48,34],[48,8,49,6,"console"],[48,15,49,13],[48,16,49,14,"log"],[48,19,49,17],[48,20,49,18],[48,41,49,39],[48,42,49,40],[49,8,50,6,"set"],[49,11,50,9],[49,12,50,10],[50,10,50,12,"connected"],[50,19,50,21],[50,21,50,23],[51,8,50,29],[51,9,50,30],[51,10,50,31],[52,6,51,4],[52,7,51,5],[52,8,51,6],[53,6,53,4,"socket"],[53,12,53,10],[53,13,53,11,"on"],[53,15,53,13],[53,16,53,14],[53,31,53,29],[53,33,53,32,"order"],[53,38,53,37],[53,42,53,42],[54,8,54,6,"console"],[54,15,54,13],[54,16,54,14,"log"],[54,19,54,17],[54,20,54,18],[54,36,54,34],[54,38,54,36,"order"],[54,43,54,41],[54,44,54,42],[55,8,55,6,"get"],[55,11,55,9],[55,12,55,10],[55,13,55,11],[55,14,55,12,"fetchLiveDashboard"],[55,32,55,30],[55,33,55,31],[55,34,55,32],[56,6,56,4],[56,7,56,5],[56,8,56,6],[57,6,58,4,"socket"],[57,12,58,10],[57,13,58,11,"on"],[57,15,58,13],[57,16,58,14],[57,29,58,27],[57,31,58,30,"kot"],[57,34,58,33],[57,38,58,38],[58,8,59,6,"console"],[58,15,59,13],[58,16,59,14,"log"],[58,19,59,17],[58,20,59,18],[58,34,59,32],[58,36,59,34,"kot"],[58,39,59,37],[58,40,59,38],[59,8,60,6,"get"],[59,11,60,9],[59,12,60,10],[59,13,60,11],[59,14,60,12,"fetchLiveDashboard"],[59,32,60,30],[59,33,60,31],[59,34,60,32],[60,6,61,4],[60,7,61,5],[60,8,61,6],[61,6,63,4,"socket"],[61,12,63,10],[61,13,63,11,"on"],[61,15,63,13],[61,16,63,14],[61,31,63,29],[61,33,63,32,"table"],[61,38,63,37],[61,42,63,42],[62,8,64,6,"console"],[62,15,64,13],[62,16,64,14,"log"],[62,19,64,17],[62,20,64,18],[62,36,64,34],[62,38,64,36,"table"],[62,43,64,41],[62,44,64,42],[63,8,65,6,"get"],[63,11,65,9],[63,12,65,10],[63,13,65,11],[63,14,65,12,"fetchLiveDashboard"],[63,32,65,30],[63,33,65,31],[63,34,65,32],[64,6,66,4],[64,7,66,5],[64,8,66,6],[65,6,68,4,"set"],[65,9,68,7],[65,10,68,8],[66,8,68,10,"socket"],[67,6,68,17],[67,7,68,18],[67,8,68,19],[68,4,69,2],[68,5,69,3],[69,4,71,2,"disconnect"],[69,14,71,12],[69,16,71,14,"disconnect"],[69,17,71,14],[69,22,71,20],[70,6,72,4],[70,12,72,10],[71,8,72,12,"socket"],[72,6,72,19],[72,7,72,20],[72,10,72,23,"get"],[72,13,72,26],[72,14,72,27],[72,15,72,28],[73,6,73,4],[73,10,73,8,"socket"],[73,16,73,14],[73,18,73,16],[74,8,74,6,"socket"],[74,14,74,12],[74,15,74,13,"disconnect"],[74,25,74,23],[74,26,74,24],[74,27,74,25],[75,8,75,6,"set"],[75,11,75,9],[75,12,75,10],[76,10,75,12,"socket"],[76,16,75,18],[76,18,75,20],[76,22,75,24],[77,10,75,26,"connected"],[77,19,75,35],[77,21,75,37],[78,8,75,43],[78,9,75,44],[78,10,75,45],[79,6,76,4],[80,4,77,2],[80,5,77,3],[81,4,79,2,"subscribeToOrders"],[81,21,79,19],[81,23,79,21,"subscribeToOrders"],[81,24,79,21],[81,29,79,27],[82,6,80,4],[82,12,80,10],[83,8,80,12,"socket"],[84,6,80,19],[84,7,80,20],[84,10,80,23,"get"],[84,13,80,26],[84,14,80,27],[84,15,80,28],[85,6,81,4],[85,10,81,8,"socket"],[85,16,81,14],[85,18,81,16],[86,8,82,6,"socket"],[86,14,82,12],[86,15,82,13,"emit"],[86,19,82,17],[86,20,82,18],[86,38,82,36],[86,39,82,37],[87,6,83,4],[88,4,84,2],[88,5,84,3],[89,4,86,2,"subscribeToKitchen"],[89,22,86,20],[89,24,86,22,"subscribeToKitchen"],[89,25,86,22],[89,30,86,28],[90,6,87,4],[90,12,87,10],[91,8,87,12,"socket"],[92,6,87,19],[92,7,87,20],[92,10,87,23,"get"],[92,13,87,26],[92,14,87,27],[92,15,87,28],[93,6,88,4],[93,10,88,8,"socket"],[93,16,88,14],[93,18,88,16],[94,8,89,6,"socket"],[94,14,89,12],[94,15,89,13,"emit"],[94,19,89,17],[94,20,89,18],[94,39,89,37],[94,40,89,38],[95,6,90,4],[96,4,91,2],[96,5,91,3],[97,4,93,2,"fetchLiveDashboard"],[97,22,93,20],[97,24,93,22],[97,30,93,22,"fetchLiveDashboard"],[97,31,93,22],[97,36,93,34],[98,6,94,4],[98,10,94,8],[99,8,95,6],[99,14,95,12,"response"],[99,22,95,20],[99,25,95,23],[99,31,95,29,"api"],[99,34,95,32],[99,35,95,32,"default"],[99,42,95,32],[99,43,95,33,"get"],[99,46,95,36],[99,47,95,37],[99,64,95,54],[99,65,95,55],[100,8,96,6,"set"],[100,11,96,9],[100,12,96,10],[101,10,97,8,"activeOrders"],[101,22,97,20],[101,24,97,22,"response"],[101,32,97,30],[101,33,97,31,"data"],[101,37,97,35],[101,38,97,36,"activeOrders"],[101,50,97,48],[102,10,98,8,"pendingKOTs"],[102,21,98,19],[102,23,98,21,"response"],[102,31,98,29],[102,32,98,30,"data"],[102,36,98,34],[102,37,98,35,"pendingKOTs"],[102,48,98,46],[103,10,99,8,"occupiedTables"],[103,24,99,22],[103,26,99,24,"response"],[103,34,99,32],[103,35,99,33,"data"],[103,39,99,37],[103,40,99,38,"occupiedTables"],[103,54,99,52],[104,10,100,8,"todayStats"],[104,20,100,18],[104,22,100,20,"response"],[104,30,100,28],[104,31,100,29,"data"],[104,35,100,33],[104,36,100,34,"todayStats"],[105,8,101,6],[105,9,101,7],[105,10,101,8],[106,6,102,4],[106,7,102,5],[106,8,102,6],[106,15,102,13,"error"],[106,20,102,18],[106,22,102,20],[107,8,103,6,"console"],[107,15,103,13],[107,16,103,14,"error"],[107,21,103,19],[107,22,103,20],[107,51,103,49],[107,53,103,51,"error"],[107,58,103,56],[107,59,103,57],[108,6,104,4],[109,4,105,2],[110,2,106,0],[110,3,106,1],[110,4,106,2],[110,5,106,3],[111,0,106,4],[111,3]],"functionMap":{"names":["<global>","create$argument_0","connect","socket.on$argument_1","disconnect","subscribeToOrders","subscribeToKitchen","fetchLiveDashboard"],"mappings":"AAA;8CCyB;WCY;yBCK;KDG;4BCE;KDG;+BCE;KDG;6BCE;KDG;+BCE;KDG;GDG;cGE;GHM;qBIE;GJK;sBKE;GLK;sBME;GNY;EDC"},"hasCjsExports":false},"type":"js/module"}]}