{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"socket.io-client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":46,"index":80}}],"key":"LVgCyxgUdze/lYG0kA6DdCAztfM=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":81},"end":{"line":3,"column":31,"index":112}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":113},"end":{"line":4,"column":39,"index":152}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useLiveStore\", {\n    enumerable: true,\n    get: function () {\n      return useLiveStore;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _socketIoClient = require(_dependencyMap[2], \"socket.io-client\");\n  var io = _interopDefault(_socketIoClient);\n  var _utilsApi = require(_dependencyMap[3], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var _expoConstants = require(_dependencyMap[4], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  const API_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const useLiveStore = (0, _zustand.create)((set, get) => ({\n    socket: null,\n    connected: false,\n    activeOrders: [],\n    pendingKOTs: [],\n    occupiedTables: [],\n    todayStats: {\n      totalOrders: 0,\n      revenue: 0,\n      averageOrder: 0\n    },\n    connect: () => {\n      const socket = (0, io.default)(API_URL, {\n        transports: ['websocket', 'polling']\n      });\n      socket.on('connect', () => {\n        console.log('Socket connected');\n        set({\n          connected: true\n        });\n      });\n      socket.on('disconnect', () => {\n        console.log('Socket disconnected');\n        set({\n          connected: false\n        });\n      });\n      socket.on('order_updated', order => {\n        console.log('Order updated:', order);\n        get().fetchLiveDashboard();\n      });\n      socket.on('kot_updated', kot => {\n        console.log('KOT updated:', kot);\n        get().fetchLiveDashboard();\n      });\n      socket.on('table_updated', table => {\n        console.log('Table updated:', table);\n        get().fetchLiveDashboard();\n      });\n      set({\n        socket\n      });\n    },\n    disconnect: () => {\n      const {\n        socket\n      } = get();\n      if (socket) {\n        socket.disconnect();\n        set({\n          socket: null,\n          connected: false\n        });\n      }\n    },\n    subscribeToOrders: () => {\n      const {\n        socket\n      } = get();\n      if (socket) {\n        socket.emit('subscribe_orders');\n      }\n    },\n    subscribeToKitchen: () => {\n      const {\n        socket\n      } = get();\n      if (socket) {\n        socket.emit('subscribe_kitchen');\n      }\n    },\n    fetchLiveDashboard: async () => {\n      try {\n        const response = await api.default.get('/dashboard/live');\n        set({\n          activeOrders: response.data.activeOrders,\n          pendingKOTs: response.data.pendingKOTs,\n          occupiedTables: response.data.occupiedTables,\n          todayStats: response.data.todayStats\n        });\n      } catch (error) {\n        console.error('Fetch live dashboard error:', error);\n      }\n    }\n  }));\n});","lineCount":112,"map":[[12,2,26,0,"Object"],[12,8,26,0],[12,9,26,0,"defineProperty"],[12,23,26,0],[12,24,26,0,"exports"],[12,31,26,0],[13,4,26,0,"enumerable"],[13,14,26,0],[14,4,26,0,"get"],[14,7,26,0],[14,18,26,0,"get"],[14,19,26,0],[15,6,26,0],[15,13,26,0,"useLiveStore"],[15,25,26,0],[16,4,26,0],[17,2,26,0],[18,2,106,4],[18,6,106,4,"_expoVirtualEnv"],[18,21,106,4],[18,24,106,4,"require"],[18,31,106,4],[18,32,106,4,"_dependencyMap"],[18,46,106,4],[19,2,1,0],[19,6,1,0,"_zustand"],[19,14,1,0],[19,17,1,0,"require"],[19,24,1,0],[19,25,1,0,"_dependencyMap"],[19,39,1,0],[20,2,2,0],[20,6,2,0,"_socketIoClient"],[20,21,2,0],[20,24,2,0,"require"],[20,31,2,0],[20,32,2,0,"_dependencyMap"],[20,46,2,0],[21,2,2,0],[21,6,2,0,"io"],[21,8,2,0],[21,11,2,0,"_interopDefault"],[21,26,2,0],[21,27,2,0,"_socketIoClient"],[21,42,2,0],[22,2,3,0],[22,6,3,0,"_utilsApi"],[22,15,3,0],[22,18,3,0,"require"],[22,25,3,0],[22,26,3,0,"_dependencyMap"],[22,40,3,0],[23,2,3,0],[23,6,3,0,"api"],[23,9,3,0],[23,12,3,0,"_interopDefault"],[23,27,3,0],[23,28,3,0,"_utilsApi"],[23,37,3,0],[24,2,4,0],[24,6,4,0,"_expoConstants"],[24,20,4,0],[24,23,4,0,"require"],[24,30,4,0],[24,31,4,0,"_dependencyMap"],[24,45,4,0],[25,2,4,0],[25,6,4,0,"Constants"],[25,15,4,0],[25,18,4,0,"_interopDefault"],[25,33,4,0],[25,34,4,0,"_expoConstants"],[25,48,4,0],[26,2,6,0],[26,8,6,6,"API_URL"],[26,15,6,13],[26,18,6,16,"Constants"],[26,27,6,25],[26,28,6,25,"default"],[26,35,6,25],[26,36,6,26,"expoConfig"],[26,46,6,36],[26,48,6,38,"extra"],[26,53,6,43],[26,55,6,45,"EXPO_PUBLIC_BACKEND_URL"],[26,78,6,68],[26,82,6,68,"_expoVirtualEnv"],[26,97,6,68],[26,98,6,68,"env"],[26,101,6,68],[26,102,6,68,"EXPO_PUBLIC_BACKEND_URL"],[26,125,6,107],[27,2,26,7],[27,8,26,13,"useLiveStore"],[27,20,26,25],[27,23,26,28],[27,27,26,28,"create"],[27,35,26,34],[27,36,26,34,"create"],[27,42,26,34],[27,44,26,46],[27,45,26,47,"set"],[27,48,26,50],[27,50,26,52,"get"],[27,53,26,55],[27,59,26,61],[28,4,27,2,"socket"],[28,10,27,8],[28,12,27,10],[28,16,27,14],[29,4,28,2,"connected"],[29,13,28,11],[29,15,28,13],[29,20,28,18],[30,4,29,2,"activeOrders"],[30,16,29,14],[30,18,29,16],[30,20,29,18],[31,4,30,2,"pendingKOTs"],[31,15,30,13],[31,17,30,15],[31,19,30,17],[32,4,31,2,"occupiedTables"],[32,18,31,16],[32,20,31,18],[32,22,31,20],[33,4,32,2,"todayStats"],[33,14,32,12],[33,16,32,14],[34,6,33,4,"totalOrders"],[34,17,33,15],[34,19,33,17],[34,20,33,18],[35,6,34,4,"revenue"],[35,13,34,11],[35,15,34,13],[35,16,34,14],[36,6,35,4,"averageOrder"],[36,18,35,16],[36,20,35,18],[37,4,36,2],[37,5,36,3],[38,4,38,2,"connect"],[38,11,38,9],[38,13,38,11,"connect"],[38,14,38,11],[38,19,38,17],[39,6,39,4],[39,12,39,10,"socket"],[39,18,39,16],[39,21,39,19],[39,25,39,19,"io"],[39,27,39,21],[39,28,39,21,"default"],[39,35,39,21],[39,37,39,22,"API_URL"],[39,44,39,29],[39,46,39,32],[40,8,40,6,"transports"],[40,18,40,16],[40,20,40,18],[40,21,40,19],[40,32,40,30],[40,34,40,32],[40,43,40,41],[41,6,41,4],[41,7,41,5],[41,8,41,6],[42,6,43,4,"socket"],[42,12,43,10],[42,13,43,11,"on"],[42,15,43,13],[42,16,43,14],[42,25,43,23],[42,27,43,25],[42,33,43,31],[43,8,44,6,"console"],[43,15,44,13],[43,16,44,14,"log"],[43,19,44,17],[43,20,44,18],[43,38,44,36],[43,39,44,37],[44,8,45,6,"set"],[44,11,45,9],[44,12,45,10],[45,10,45,12,"connected"],[45,19,45,21],[45,21,45,23],[46,8,45,28],[46,9,45,29],[46,10,45,30],[47,6,46,4],[47,7,46,5],[47,8,46,6],[48,6,48,4,"socket"],[48,12,48,10],[48,13,48,11,"on"],[48,15,48,13],[48,16,48,14],[48,28,48,26],[48,30,48,28],[48,36,48,34],[49,8,49,6,"console"],[49,15,49,13],[49,16,49,14,"log"],[49,19,49,17],[49,20,49,18],[49,41,49,39],[49,42,49,40],[50,8,50,6,"set"],[50,11,50,9],[50,12,50,10],[51,10,50,12,"connected"],[51,19,50,21],[51,21,50,23],[52,8,50,29],[52,9,50,30],[52,10,50,31],[53,6,51,4],[53,7,51,5],[53,8,51,6],[54,6,53,4,"socket"],[54,12,53,10],[54,13,53,11,"on"],[54,15,53,13],[54,16,53,14],[54,31,53,29],[54,33,53,32,"order"],[54,38,53,37],[54,42,53,42],[55,8,54,6,"console"],[55,15,54,13],[55,16,54,14,"log"],[55,19,54,17],[55,20,54,18],[55,36,54,34],[55,38,54,36,"order"],[55,43,54,41],[55,44,54,42],[56,8,55,6,"get"],[56,11,55,9],[56,12,55,10],[56,13,55,11],[56,14,55,12,"fetchLiveDashboard"],[56,32,55,30],[56,33,55,31],[56,34,55,32],[57,6,56,4],[57,7,56,5],[57,8,56,6],[58,6,58,4,"socket"],[58,12,58,10],[58,13,58,11,"on"],[58,15,58,13],[58,16,58,14],[58,29,58,27],[58,31,58,30,"kot"],[58,34,58,33],[58,38,58,38],[59,8,59,6,"console"],[59,15,59,13],[59,16,59,14,"log"],[59,19,59,17],[59,20,59,18],[59,34,59,32],[59,36,59,34,"kot"],[59,39,59,37],[59,40,59,38],[60,8,60,6,"get"],[60,11,60,9],[60,12,60,10],[60,13,60,11],[60,14,60,12,"fetchLiveDashboard"],[60,32,60,30],[60,33,60,31],[60,34,60,32],[61,6,61,4],[61,7,61,5],[61,8,61,6],[62,6,63,4,"socket"],[62,12,63,10],[62,13,63,11,"on"],[62,15,63,13],[62,16,63,14],[62,31,63,29],[62,33,63,32,"table"],[62,38,63,37],[62,42,63,42],[63,8,64,6,"console"],[63,15,64,13],[63,16,64,14,"log"],[63,19,64,17],[63,20,64,18],[63,36,64,34],[63,38,64,36,"table"],[63,43,64,41],[63,44,64,42],[64,8,65,6,"get"],[64,11,65,9],[64,12,65,10],[64,13,65,11],[64,14,65,12,"fetchLiveDashboard"],[64,32,65,30],[64,33,65,31],[64,34,65,32],[65,6,66,4],[65,7,66,5],[65,8,66,6],[66,6,68,4,"set"],[66,9,68,7],[66,10,68,8],[67,8,68,10,"socket"],[68,6,68,17],[68,7,68,18],[68,8,68,19],[69,4,69,2],[69,5,69,3],[70,4,71,2,"disconnect"],[70,14,71,12],[70,16,71,14,"disconnect"],[70,17,71,14],[70,22,71,20],[71,6,72,4],[71,12,72,10],[72,8,72,12,"socket"],[73,6,72,19],[73,7,72,20],[73,10,72,23,"get"],[73,13,72,26],[73,14,72,27],[73,15,72,28],[74,6,73,4],[74,10,73,8,"socket"],[74,16,73,14],[74,18,73,16],[75,8,74,6,"socket"],[75,14,74,12],[75,15,74,13,"disconnect"],[75,25,74,23],[75,26,74,24],[75,27,74,25],[76,8,75,6,"set"],[76,11,75,9],[76,12,75,10],[77,10,75,12,"socket"],[77,16,75,18],[77,18,75,20],[77,22,75,24],[78,10,75,26,"connected"],[78,19,75,35],[78,21,75,37],[79,8,75,43],[79,9,75,44],[79,10,75,45],[80,6,76,4],[81,4,77,2],[81,5,77,3],[82,4,79,2,"subscribeToOrders"],[82,21,79,19],[82,23,79,21,"subscribeToOrders"],[82,24,79,21],[82,29,79,27],[83,6,80,4],[83,12,80,10],[84,8,80,12,"socket"],[85,6,80,19],[85,7,80,20],[85,10,80,23,"get"],[85,13,80,26],[85,14,80,27],[85,15,80,28],[86,6,81,4],[86,10,81,8,"socket"],[86,16,81,14],[86,18,81,16],[87,8,82,6,"socket"],[87,14,82,12],[87,15,82,13,"emit"],[87,19,82,17],[87,20,82,18],[87,38,82,36],[87,39,82,37],[88,6,83,4],[89,4,84,2],[89,5,84,3],[90,4,86,2,"subscribeToKitchen"],[90,22,86,20],[90,24,86,22,"subscribeToKitchen"],[90,25,86,22],[90,30,86,28],[91,6,87,4],[91,12,87,10],[92,8,87,12,"socket"],[93,6,87,19],[93,7,87,20],[93,10,87,23,"get"],[93,13,87,26],[93,14,87,27],[93,15,87,28],[94,6,88,4],[94,10,88,8,"socket"],[94,16,88,14],[94,18,88,16],[95,8,89,6,"socket"],[95,14,89,12],[95,15,89,13,"emit"],[95,19,89,17],[95,20,89,18],[95,39,89,37],[95,40,89,38],[96,6,90,4],[97,4,91,2],[97,5,91,3],[98,4,93,2,"fetchLiveDashboard"],[98,22,93,20],[98,24,93,22],[98,30,93,22,"fetchLiveDashboard"],[98,31,93,22],[98,36,93,34],[99,6,94,4],[99,10,94,8],[100,8,95,6],[100,14,95,12,"response"],[100,22,95,20],[100,25,95,23],[100,31,95,29,"api"],[100,34,95,32],[100,35,95,32,"default"],[100,42,95,32],[100,43,95,33,"get"],[100,46,95,36],[100,47,95,37],[100,64,95,54],[100,65,95,55],[101,8,96,6,"set"],[101,11,96,9],[101,12,96,10],[102,10,97,8,"activeOrders"],[102,22,97,20],[102,24,97,22,"response"],[102,32,97,30],[102,33,97,31,"data"],[102,37,97,35],[102,38,97,36,"activeOrders"],[102,50,97,48],[103,10,98,8,"pendingKOTs"],[103,21,98,19],[103,23,98,21,"response"],[103,31,98,29],[103,32,98,30,"data"],[103,36,98,34],[103,37,98,35,"pendingKOTs"],[103,48,98,46],[104,10,99,8,"occupiedTables"],[104,24,99,22],[104,26,99,24,"response"],[104,34,99,32],[104,35,99,33,"data"],[104,39,99,37],[104,40,99,38,"occupiedTables"],[104,54,99,52],[105,10,100,8,"todayStats"],[105,20,100,18],[105,22,100,20,"response"],[105,30,100,28],[105,31,100,29,"data"],[105,35,100,33],[105,36,100,34,"todayStats"],[106,8,101,6],[106,9,101,7],[106,10,101,8],[107,6,102,4],[107,7,102,5],[107,8,102,6],[107,15,102,13,"error"],[107,20,102,18],[107,22,102,20],[108,8,103,6,"console"],[108,15,103,13],[108,16,103,14,"error"],[108,21,103,19],[108,22,103,20],[108,51,103,49],[108,53,103,51,"error"],[108,58,103,56],[108,59,103,57],[109,6,104,4],[110,4,105,2],[111,2,106,0],[111,3,106,1],[111,4,106,2],[111,5,106,3],[112,0,106,4],[112,3]],"functionMap":{"names":["<global>","create$argument_0","connect","socket.on$argument_1","disconnect","subscribeToOrders","subscribeToKitchen","fetchLiveDashboard"],"mappings":"AAA;8CCyB;WCY;yBCK;KDG;4BCE;KDG;+BCE;KDG;6BCE;KDG;+BCE;KDG;GDG;cGE;GHM;qBIE;GJK;sBKE;GLK;sBME;GNY;EDC"},"hasCjsExports":false},"type":"js/module"}]}